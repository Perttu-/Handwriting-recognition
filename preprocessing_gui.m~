function preprocessing_gui
    close all;
    f = figure();
    global filename;
    filename = '';
    handles = guihandles(f);

    openButton   = uicontrol(f,'Style','pushbutton',...
                                        'String','Open image',...
                                        'Position',[0,360,70,25],...
                                        'Callback',@openButton_callback);

    preprocessButton   = uicontrol(f,'Style','pushbutton',...
                                                 'String','Preprocess',...
                                                 'Position',[40,560,70,25],...
                                                 'Callback', {@preprocessButton_callback, handles});

    filenameTextBox = uicontrol(f,'Style','text',...
                                                'String','-',...
                                                'Position',[30 50 130 20]);

   imageAxes =axes('Parent', f, ...
                              'Units', 'normalized', ...
                              'HandleVisibility','callback', ...
                              'Position',[0.11 0.13 0.80 0.67]);
                                            
    align([preprocessButton, openButton,filenameTextBox],'Center','None');
    
end

function openButton_callback(source, eventdata)
    global filename;
    [filename, pathname] = uigetfile({'*.jpg';'*.png';'*.gif';'*.tiff';'*.*'},'File Selector');
    
end

function preprocessButton_callback(source, eventdata)
global filename;
    if ~isempty(filename)
        disp('Preprocessing starts...');
        [boundaries,boundingBoxes] = preprocess(filename);
        disp('Preprocessing done!');
    else
        disp('Select file first.');
    end
end

